{% extends 'base.html' %}
{% block title %}ì¦ê²¨ì°¾ê¸° ì¼ì •{% endblock %}

{% block content %}
<div class="container" style="max-width: 800px; margin: auto; padding: 2rem; background-color: #005f99; border-radius: 12px;">

  <h2 style="color: white; text-align: center;">ì¦ê²¨ì°¾ê¸° ì¼ì • ëª©ë¡</h2>

  {% if schedules %}
    <ul style="list-style: none; padding-left: 0;">
      {% for schedule in schedules %}
        <li style="margin-bottom: 1.5rem; padding: 1rem; background: #ffffff; border-radius: 10px;">
          <a href="{% url 'travel_input:schedule_detail' schedule.id %}"
             style="font-size: 1.1rem; font-weight: bold; text-decoration: none; color: #007acc;">
            ğŸ“Œ {{ schedule.title }}
          </a><br>

          <!-- ë‚ ì§œ ë° D-Day í‘œì‹œ -->
          <small style="color: #555;">
            {{ schedule.start_date }} ~ {{ schedule.end_date }}
            {% if schedule.days_left >= 0 %}
              <span style="color: green;">ğŸ•— D-{{ schedule.days_left }}</span>
            {% else %}
              <span style="color: gray;">ì¢…ë£Œë¨</span>
            {% endif %}
          </small><br><br>

          <!-- âœ… ì¦ê²¨ì°¾ê¸° í•´ì œ ë²„íŠ¼ -->
          <form action="{% url 'travel_input:toggle_favorite' schedule.id %}" method="post" style="display: inline;">
            {% csrf_token %}
            <button type="submit" style="background: none; border: none; color: crimson; font-size: 0.9rem; cursor: pointer;">
              ì¦ê²¨ì°¾ê¸° í•´ì œ
            </button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p style="color: white; text-align: center;">ì¦ê²¨ì°¾ê¸°í•œ ì¼ì •ì´ ì•„ì§ ì—†ìŠµë‹ˆë‹¤.</p>
  {% endif %}

</div>
{% endblock %}
